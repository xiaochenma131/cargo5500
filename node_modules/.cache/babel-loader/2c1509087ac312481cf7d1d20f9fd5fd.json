{"ast":null,"code":"var _jsxFileName = \"/Users/xiaochenma/Desktop/Yafei-Wang-And-Yuan-Yao-Project3/src/components/ReviewEntry.jsx\",\n    _s = $RefreshSig$();\n\nimport Axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport ReviewCard from './ReviewCard';\nimport { Button } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ReviewEntry() {\n  _s();\n\n  const [review, setReview] = useState(undefined);\n  const params = useParams();\n  const [username, setUsername] = useState(undefined);\n  useEffect(() => {\n    Axios.get('/api/articles/' + params.articleId + '/reviews/' + params.reviewId).then(function (response) {\n      setReview(response.data);\n      console.log(response);\n    });\n    Axios.get('/api/user/isLoggedIn').then(response => setUsername(response.data.username)).catch(error => console.log(\"User is not logged in\"));\n  }, []);\n\n  if (!review) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Review loading ...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 17\n    }, this);\n  } // todo: add delete review \n\n\n  function deleteReview() {\n    Axios.delete('/api/articles/' + params.articleId + '/reviews/' + params.reviewId).then(function (response) {\n      setReview('');\n    });\n  }\n\n  if (username === review.username) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ReviewCard, {\n        review: review\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/articles/\" + params.articleId + \"/edit/\" + params.reviewId,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          size: \"sm\",\n          className: \"custom-btn\",\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/articles/\" + params.articleId,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          size: \"sm\",\n          className: \"custom-btn\",\n          onClick: () => deleteReview(),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(ReviewCard, {\n        review: review\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this);\n  }\n}\n\n_s(ReviewEntry, \"nHtHwhPKZGG2XXjXku7ffRhiuXA=\", false, function () {\n  return [useParams];\n});\n\n_c = ReviewEntry;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReviewEntry\");","map":{"version":3,"sources":["/Users/xiaochenma/Desktop/Yafei-Wang-And-Yuan-Yao-Project3/src/components/ReviewEntry.jsx"],"names":["Axios","React","useEffect","useState","useParams","ReviewCard","Button","ReviewEntry","review","setReview","undefined","params","username","setUsername","get","articleId","reviewId","then","response","data","console","log","catch","error","deleteReview","delete"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,SAASC,MAAT,QAAuB,iBAAvB;;AAEA,eAAe,SAASC,WAAT,GAAuB;AAAA;;AAClC,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBN,QAAQ,CAACO,SAAD,CAApC;AACA,QAAMC,MAAM,GAAGP,SAAS,EAAxB;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAACO,SAAD,CAAxC;AAEAR,EAAAA,SAAS,CAAC,MAAK;AACXF,IAAAA,KAAK,CAACc,GAAN,CAAU,mBAAmBH,MAAM,CAACI,SAA1B,GAAsC,WAAtC,GAAoDJ,MAAM,CAACK,QAArE,EACCC,IADD,CACM,UAASC,QAAT,EAAmB;AACrBT,MAAAA,SAAS,CAACS,QAAQ,CAACC,IAAV,CAAT;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACH,KAJD;AAKAlB,IAAAA,KAAK,CAACc,GAAN,CAAU,sBAAV,EACCG,IADD,CACMC,QAAQ,IAAIL,WAAW,CAACK,QAAQ,CAACC,IAAT,CAAcP,QAAf,CAD7B,EAECU,KAFD,CAEOC,KAAK,IAAIH,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAFhB;AAGH,GATQ,EASN,EATM,CAAT;;AAWA,MAAI,CAACb,MAAL,EAAa;AACT,wBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAR;AAGH,GApBiC,CAsBlC;;;AACA,WAASgB,YAAT,GAAwB;AACpBxB,IAAAA,KAAK,CAACyB,MAAN,CAAa,mBAAmBd,MAAM,CAACI,SAA1B,GAAsC,WAAtC,GAAoDJ,MAAM,CAACK,QAAxE,EACCC,IADD,CACM,UAASC,QAAT,EAAmB;AACrBT,MAAAA,SAAS,CAAC,EAAD,CAAT;AACH,KAHD;AAIH;;AAED,MAAIG,QAAQ,KAAKJ,MAAM,CAACI,QAAxB,EAAkC;AAC9B,wBACI;AAAA,8BACI,QAAC,UAAD;AAAY,QAAA,MAAM,EAAEJ;AAApB;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAG,QAAA,IAAI,EAAE,eAAeG,MAAM,CAACI,SAAtB,GAAkC,QAAlC,GAA6CJ,MAAM,CAACK,QAA7D;AAAA,+BACI,QAAC,MAAD;AAAQ,UAAA,IAAI,EAAC,IAAb;AAAkB,UAAA,SAAS,EAAC,YAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAFJ,eAKI;AAAG,QAAA,IAAI,EAAE,eAAeL,MAAM,CAACI,SAA/B;AAAA,+BACI,QAAC,MAAD;AAAQ,UAAA,IAAI,EAAC,IAAb;AAAkB,UAAA,SAAS,EAAC,YAA5B;AAAyC,UAAA,OAAO,EAAE,MAAMS,YAAY,EAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cALJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAWH,GAZD,MAYO;AACH,wBACI;AAAA,6BACI,QAAC,UAAD;AAAY,QAAA,MAAM,EAAEhB;AAApB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAMH;AACJ;;GAlDuBD,W;UAELH,S;;;KAFKG,W","sourcesContent":["import Axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport ReviewCard from './ReviewCard';\nimport { Button } from 'react-bootstrap';\n\nexport default function ReviewEntry() {\n    const [review, setReview] = useState(undefined);\n    const params = useParams();\n    const [username, setUsername] = useState(undefined);\n\n    useEffect(()=> {\n        Axios.get('/api/articles/' + params.articleId + '/reviews/' + params.reviewId)\n        .then(function(response) {\n            setReview(response.data);\n            console.log(response);\n        });\n        Axios.get('/api/user/isLoggedIn')\n        .then(response => setUsername(response.data.username))\n        .catch(error => console.log(\"User is not logged in\"));\n    }, []);\n\n    if (!review) {\n        return (<div>\n            Review loading ...\n        </div>)\n    }\n\n    // todo: add delete review \n    function deleteReview() {\n        Axios.delete('/api/articles/' + params.articleId + '/reviews/' + params.reviewId)\n        .then(function(response) {\n            setReview('');\n        })\n    }\n\n    if (username === review.username) {\n        return (\n            <div>\n                <ReviewCard review={review} />\n                <a href={\"/articles/\" + params.articleId + \"/edit/\" + params.reviewId}>\n                    <Button size=\"sm\" className=\"custom-btn\">Edit</Button>\n                </a>\n                <a href={\"/articles/\" + params.articleId}>\n                    <Button size=\"sm\" className=\"custom-btn\" onClick={() => deleteReview() }>Delete</Button>\n                </a>\n            </div>\n        )\n    } else {\n        return (\n            <div>\n                <ReviewCard review={review} />\n            </div>\n            \n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}