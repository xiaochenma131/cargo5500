{"ast":null,"code":"var _jsxFileName = \"/Users/xiaochenma/Desktop/Yafei-Wang-And-Yuan-Yao-Project3/src/components/ArticleEntry.jsx\",\n    _s = $RefreshSig$();\n\nimport Axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport ArticleCard from './ArticleCard';\nimport ReviewCards from './ReviewCards';\nimport { Button } from 'react-bootstrap';\nimport CreateReview from './CreateReview';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ArticleEntry() {\n  _s();\n\n  const [article, setArticle] = useState(undefined);\n  const params = useParams();\n  const [username, setUsername] = useState(undefined);\n  useEffect(() => {\n    Axios.get('/api/articles/' + params.articleId).then(function (response) {\n      setArticle(response.data);\n    });\n    Axios.get('/api/user/isLoggedIn').then(response => setUsername(response.data.username)).catch(error => console.log(\"User is not logged in\"));\n  }, []);\n  const [reviews, setReviews] = useState('');\n\n  function getReviews() {\n    Axios.get(\"/api/articles/\" + params.articleId + '/reviews').then(function (response) {\n      setReviews(response.data);\n    });\n  }\n\n  useEffect(getReviews);\n\n  if (!article) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"The article does not exist.\", /*#__PURE__*/_jsxDEV(Button, {\n        size: \"sm\",\n        className: \"custom-btn\",\n        as: Link,\n        to: \"/\",\n        children: \"Go back to home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this);\n  }\n\n  function deleteArticle() {\n    Axios.delete('/api/articles/' + params.articleId).then(function (response) {\n      setArticle('');\n    });\n  }\n\n  if (username === article.username) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ArticleCard, {\n        article: article\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/articles/edit/\" + article._id,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          size: \"sm\",\n          className: \"custom-btn\",\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), ' ', /*#__PURE__*/_jsxDEV(Button, {\n        size: \"sm\",\n        className: \"custom-btn\",\n        onClick: deleteArticle,\n        as: Link,\n        to: \"/\",\n        children: \" Delete \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(CreateReview, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ReviewCards, {\n          reviews: reviews\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this);\n  } else if (username) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ArticleCard, {\n        article: article\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(CreateReview, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ReviewCards, {\n          reviews: reviews\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ArticleCard, {\n        article: article\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ReviewCards, {\n        reviews: reviews\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this);\n  }\n}\n\n_s(ArticleEntry, \"FujJ90eO5ZV6SFn/4Vq6PNbmGWs=\", false, function () {\n  return [useParams];\n});\n\n_c = ArticleEntry;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArticleEntry\");","map":{"version":3,"sources":["/Users/xiaochenma/Desktop/Yafei-Wang-And-Yuan-Yao-Project3/src/components/ArticleEntry.jsx"],"names":["Axios","React","useEffect","useState","useParams","Link","ArticleCard","ReviewCards","Button","CreateReview","ArticleEntry","article","setArticle","undefined","params","username","setUsername","get","articleId","then","response","data","catch","error","console","log","reviews","setReviews","getReviews","deleteArticle","delete","_id"],"mappings":"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","sourcesContent":["import Axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport ArticleCard from './ArticleCard';\nimport ReviewCards from './ReviewCards';\nimport { Button } from 'react-bootstrap';\nimport CreateReview from './CreateReview';\n\nexport default function ArticleEntry() {\n    const [article, setArticle] = useState(undefined);\n    const params = useParams();\n    const [username, setUsername] = useState(undefined);\n\n    useEffect(()=> {\n        Axios.get('/api/articles/' + params.articleId)\n        .then(function(response) {\n            setArticle(response.data);\n        });\n        Axios.get('/api/user/isLoggedIn')\n        .then(response => setUsername(response.data.username))\n        .catch(error => console.log(\"User is not logged in\"));\n    }, []);\n\n    const [reviews, setReviews] = useState('');\n    \n    function getReviews() {\n        Axios.get(\"/api/articles/\" + params.articleId + '/reviews')\n        .then(function(response) {\n            setReviews(response.data);\n        })\n    }\n    \n    useEffect(getReviews);\n\n    if (!article) {\n        return (\n            <div>\n                The article does not exist.\n                <Button size=\"sm\" className=\"custom-btn\" as={Link} to='/'>\n                    Go back to home\n                </Button>\n            </div>)\n    }\n    \n    function deleteArticle() {\n        Axios.delete('/api/articles/' + params.articleId)\n        .then(function(response) {\n            setArticle('');\n        })\n    }\n\n    if (username === article.username) {\n        return (\n            <div>\n                <ArticleCard article={article} />\n                <a href={\"/articles/edit/\" + article._id}>\n                    <Button size=\"sm\" className=\"custom-btn\">Edit</Button>\n                </a>\n                {' '}\n                <Button size=\"sm\" className=\"custom-btn\" onClick={deleteArticle} as={Link} to=\"/\"> Delete </Button>\n                <div>\n                    <CreateReview />\n                    <ReviewCards reviews={reviews} />\n                </div>\n            </div>\n        )\n    }  else if (username) {\n        return (\n            <div>\n                <ArticleCard article={article} />\n                <div>\n                    <CreateReview />\n                    <ReviewCards reviews={reviews} />\n                </div>\n            </div>\n        )\n\n    } else {\n        return (\n            <div>\n                <ArticleCard article={article} />\n                <ReviewCards reviews={reviews} />\n            </div>\n        )\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}